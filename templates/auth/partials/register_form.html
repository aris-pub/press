<div id="register-form-container">
    {% if errors %}
    <div class="form-errors">
        <ul>
            {% for error in errors %}
            <li>{{ error }}</li>
            {% endfor %}
        </ul>
    </div>
    {% endif %}

    <form class="auth-form" 
          action="/register-form" 
          method="post"
          hx-post="/register-form"
          hx-target="#register-form-container"
          hx-swap="outerHTML"
          hx-indicator="#register-spinner">
        
        {% set label = "Email" %}{% set name = "email" %}{% set type = "email" %}{% set required = true %}
        {% set value = form_data.email if form_data else "" %}
        {% set error = field_errors.email[0] if field_errors and 'email' in field_errors else "" %}
        {% include "components/form_input.html" %}

        {% set label = "Display Name" %}{% set name = "display_name" %}{% set type = "text" %}{% set required = true %}
        {% set value = form_data.display_name if form_data else "" %}
        {% set error = field_errors.display_name[0] if field_errors and 'display_name' in field_errors else "" %}
        {% include "components/form_input.html" %}

        {% set label = "Password" %}{% set name = "password" %}{% set type = "password" %}{% set required = true %}
        {% set value = "" %}
        {% set error = field_errors.password[0] if field_errors and 'password' in field_errors else "" %}
        {% include "components/form_input.html" %}

        {% set text = "Create Account" %}{% set type = "submit" %}{% set hx_indicator = "#register-spinner" %}{% set loading_text = "Creating..." %}
        {% include "components/button.html" %}
    </form>
</div>