{# 
Button Macros
Usage: 
{% from "components/button.html" import button, link_button %}
{{ button("Submit", variant="primary", type="submit") }}
{{ link_button("Login", href="/login", variant="secondary") }}
#}

{% macro button(text, variant="primary", type="button", hx_post="", hx_get="", hx_target="", hx_swap="", hx_indicator="", loading_text="", class="", name="", value="", disabled=false) %}
<button 
  class="btn btn-{{ variant }}{% if class %} {{ class }}{% endif %}"
  {{ {
    "type": type,
    "name": name if name else none,
    "value": value if value else none,
    "hx-post": hx_post if hx_post else none,
    "hx-get": hx_get if hx_get else none,
    "hx-target": hx_target if hx_target else none,
    "hx-swap": hx_swap if hx_swap else none,
    "hx-indicator": hx_indicator if hx_indicator else none,
    "disabled": "disabled" if disabled else none
  } | xmlattr }}
>
  <span class="btn-text">{{ text }}</span>
  {% if loading_text %}
  <span class="htmx-indicator" {{ {"id": hx_indicator.lstrip('#') if hx_indicator else none} | xmlattr }}>{{ loading_text }}</span>
  {% endif %}
</button>
{% endmacro %}

{% macro link_button(text, href, variant="primary", class="", hx_post="", hx_get="", hx_target="", hx_swap="") %}
<a 
  class="btn btn-{{ variant }}{% if class %} {{ class }}{% endif %}"
  {{ {
    "href": href,
    "hx-post": hx_post if hx_post else none,
    "hx-get": hx_get if hx_get else none,
    "hx-target": hx_target if hx_target else none,
    "hx-swap": hx_swap if hx_swap else none
  } | xmlattr }}
>
  <span class="btn-text">{{ text }}</span>
</a>
{% endmacro %}
